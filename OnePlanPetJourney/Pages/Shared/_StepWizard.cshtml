@{
    // expected from each page:
    // ViewData["CurrentStep"] : int (1..9)
    // ViewData["LeadId"]      : int? (for links that need {id})
    var current = (int?)ViewData["CurrentStep"] ?? 1;
    var leadId  = (int?)ViewData["LeadId"];
    var steps = new[] {
        new { Num = 1, Title = "Start",     Page = "PageOne"   },
        new { Num = 2, Title = "You",       Page = "PageTwo"   },
        new { Num = 3, Title = "Pets",      Page = "PageThree" },
        new { Num = 4, Title = "Step 4",    Page = "PageFour"  },
        new { Num = 5, Title = "Step 5",    Page = "PageFive"  },
        new { Num = 6, Title = "Step 6",    Page = "PageSix"   },
        new { Num = 7, Title = "Step 7",    Page = "PageSeven" },
        new { Num = 8, Title = "Step 8",    Page = "PageEight" },
        new { Num = 9, Title = "Review",    Page = "PageNine"  }
    };
    string StateClass(int n) => n < current ? "is-complete" : n == current ? "is-active" : "is-inactive";
}

<nav class="opl-steps mt-5 mb-5" aria-label="Progress">
  <ol class="opl-steps-list" role="list">
    @foreach (var s in steps)
    {
      var state = StateClass(s.Num);
      <li class="opl-step @state" aria-current="@(s.Num == current ? "step" : null)">
        @if (leadId.HasValue)
        {
          <a class="opl-step-link" asp-page="/Leads/@s.Page" asp-route-id="@leadId">@* linkable *@
            <span class="opl-step-marker">
              <span class="opl-step-num">@s.Num</span>
              <span class="opl-step-check" aria-hidden="true">
                <!-- check svg -->
             <svg  viewBox="0 0 19 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.1423 1.21282C18.6798 1.68641 18.6798 2.51518 18.1423 2.98876L7.5567 13.0919C7.0605 13.6049 6.19216 13.6049 5.69596 13.0919L0.403162 8.04033C-0.134387 7.56674 -0.134387 6.73797 0.403162 6.26439C0.899362 5.75134 1.76771 5.75134 2.26391 6.26439L6.60566 10.4082L16.2815 1.21282C16.7777 0.699771 17.6461 0.699771 18.1423 1.21282Z" fill="white"/>
                </svg>

              </span>
            </span>
            <span class="opl-step-label">@s.Title</span>
          </a>
        }
        else
        {
          <div class="opl-step-link">
            <span class="opl-step-marker">
              <span class="opl-step-num">@s.Num</span>
              <span class="opl-step-check" aria-hidden="true">
                <svg viewBox="0 0 20 20" width="14" height="14" focusable="false" aria-hidden="true">
                  <path d="M7.5 13.5L3.5 9.5l1.4-1.4 2.6 2.6 7.6-7.6 1.4 1.4z"></path>
                </svg>
              </span>
            </span>
            <span class="opl-step-label">@s.Title</span>
          </div>
        }
      </li>
    }
  </ol>
</nav>
